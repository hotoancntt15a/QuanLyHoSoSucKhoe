@{
    ViewBag.Title = "Cập nhật thông tin tài khoản";
    Layout = null;
    var data = ViewBag.data as Dictionary<string, object>;
    var dmgioitinh = new List<string>() { "Không tiết lộ", "Nam", "Nữ" };
    var mode = data["mode"].ToString();
}
    <p>
        @if (mode == "1")
        {
            <b>CẬP NHẬT THÔNG TIN TÀI KHOẢN @data["iduser"]</b>
        }
        else
        {
            <b>THÊM TÀI KHOẢN</b>
        }
    </p>
<form method="post" name="frmupdatetaikhoan" id="frmupdatetaikhoan">
    <input type="hidden" name="mode" value="@ViewBag.mode" />
    <div class="form-group">
        <div class="input-group input-group-sm">
            <div class="input-group-append"><div class="input-group-text">Tài khoản:</div></div>
            <input type="text" name="iduser" maxlength="50" class="form-control" value="@data["iduser"]" @(mode == "1" ? "readonly" : "") />
        </div>
        <div class="input-group input-group-sm">
            <div class="input-group-append"><div class="input-group-text">Mật khẩu:</div></div>
            <input type="text" name="pass" maxlength="50" placeholder="@(data["mode"].ToString() == "1" ? "Điền mật khẩu nếu muốn thay đổi mật khẩu" : "Mật khẩu")" class="form-control" value="" />
        </div>
        <div class="input-group input-group-sm">
            <div class="input-group-append"><div class="input-group-text">Họ tên:</div></div>
            <input type="text" name="hoten" maxlength="255" class="form-control" value="@data["hoten"]" placeholder="Họ và tên" />
        </div>
        <div class="input-group input-group-sm">
            <div class="input-group-append"><div class="input-group-text">Ngày sinh:</div></div>
            <input type="text" name="ngaysinh" maxlength="10" class="form-control" value="@data["ngaysinh"]" placeholder="Ngày sinh (ngày/tháng/năm)" />
        </div>
        <div class="input-group input-group-sm">
            <div class="input-group-append"><div class="input-group-text">Giới tính:</div></div>
            <select name="gioitinh" class="form-control">
                @foreach (var v in dmgioitinh)
                {
                    <option value="@v" @(v == data["gioitinh"].ToString() ? "selected=\"selected\"" : "")> @v </option>
                }
            </select>
        </div>
        <div class="input-group input-group-sm">
            <div class="input-group-append"><div class="input-group-text">Điện thoại:</div></div>
            <input type="text" name="sdt" class="form-control" value="@data["sdt"]" placeholder="Số điện thoại liên hệ" />
        </div>
        <div class="input-group input-group-sm">
            <div class="input-group-append"><div class="input-group-text">Email:</div></div>
            <input type="text" name="email" maxlength="" class="form-control" value="@data["email"]" placeholder="Email" />
        </div>
        <div class="input-group input-group-sm">
            <div class="input-group-append"><div class="input-group-text">Ghi chú:</div></div>
            <input type="text" name="ghichu" maxlength="255" class="form-control" value="@data["ghichu"]" />
        </div>
        @*<div class="input-group input-group-sm">
                <div class="input-group-append"><div class="input-group-text">Nhóm người sử dụng:</div></div>
                <select name="idgroup" class="form-control">

                </select>
            </div>*@
        @if (mode == "1")
        {
            <div class="input-group input-group-sm">
                <div class="input-group-append"><div class="input-group-text">Ngày tạo:</div></div>
                <input type="text" class="form-control" value="@data["ngaytao"]" readonly />
            </div>
            <div class="input-group input-group-sm">
                <div class="input-group-append"><div class="input-group-text">Đăng nhập lần cuối:</div></div>
                <input type="text" class="form-control" value="@data["lancuoi"]" readonly />
            </div>
            <div class="input-group input-group-sm">
                <div class="input-group-append"><div class="input-group-text">Tình trạng khóa tài khoản:</div></div>
                <input type="text" class="form-control" value="@data["block"]" readonly />
            </div>
            <div class="input-group input-group-sm">
                <div class="input-group-append"><div class="input-group-text">Lý do khóa tài khoản:</div></div>
                <input type="text" class="form-control" value="@data["block_lydo"]" readonly />
            </div>
        }
    </div>
</form> 
<div class="form-group">
    <button type="button" class="btn btn-primary" onclick="postform('frmupdatetaikhoan', '@Url.Action("update")');"> <i class="fa fa-save"></i> Lưu lại </button>
    <button type="button" class="btn btn-primary"> <i class="fa fa-refresh"></i> Làm mới </button>
    <a href="@Url.Action("index")" class="btn btn-primary"> <i class="fa fa-backward"></i> Hủy </a>
</div>

